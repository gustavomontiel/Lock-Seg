<app-header [verTitulo]="false"></app-header>

<ion-content class="ion-padding-start ion-padding-end  ">
  <ion-img class="ion-align-self-center ion-margin-horizontal" src="/assets/imagenes/logo_g.png"></ion-img>
  <ion-grid *ngIf="!showPromoFS">
    <ion-row>
      <ion-col size="8">
        <ion-searchbar (ionChange)="buscarPromocion($event)" placeholder="Buscar Promociones"></ion-searchbar>
      </ion-col>
      <ion-col size="4">
        <ion-select  interface="action-sheet" (ionChange)="cambiarCategoria($event)" placeholder="Categorias">
          <ion-select-option value="todas">Todas</ion-select-option>
          <ion-select-option *ngFor="let categoria of categorias"
            value="{{categoria.id}}">{{categoria.titulo}}</ion-select-option>
        </ion-select>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Cards de Promociones default -->
  <div *ngIf="!buscar && !showPromoFS">
    <ion-card class="sombra ion-card-holder">
      <ion-card-header>
        <ion-card-title> Promociones:  </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div *ngFor="let promocion of promosFiltradas">
          <ion-card class="ion-card"  >
            <div (click)="showPromo(promocion)">
              <img [src]="urlImagenes +'/'+promocion.imagen" />
              <ion-card-header>
                <!-- <ion-card-subtitle> Promoción N° {{promocion.id}}</ion-card-subtitle> -->
                <ion-card-title>
                  {{promocion.titulo}}
                </ion-card-title>
              </ion-card-header>
            </div>
          </ion-card>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Cards de Promociones al activar el buscador -->
  <div *ngIf="buscar ">
    <ion-card class="sombra ion-card-holder">
      <ion-card-header>
        <ion-card-title> Resultados:</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div *ngFor="let promocion of promosFiltradas">
          <ion-card class="ion-card"  >
            <div (click)="showPromo(promocion)">
              <img [src]="urlImagenes +'/'+promocion.imagen" />
              <ion-card-header>
                <!-- <ion-card-subtitle> Promoción N° {{promocion.id}}</ion-card-subtitle> -->
                <ion-card-title>
                  {{promocion.titulo}}
                </ion-card-title>
              </ion-card-header>
            </div>
          </ion-card>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

<!-- Promo en Pantalla completa -->
  <div *ngIf="showPromoFS">
    <ion-grid class="promoFullScreen">
      <ion-row size="10">
        <ion-col>
          <ion-card class="ion-card">
            <!-- <ion-card-header>
              <ion-card-title>
                {{this.promoSeleccionada.titulo}}
              </ion-card-title>
            </ion-card-header> -->
            <div>
              <img class="promoImagen" [src]="urlImagenes +'/'+this.promoSeleccionada.imagen"
                alt="Descripción de la imagen">
            </div>
            <ion-card-content>
              {{this.promoSeleccionada.descripcion}}
              <ion-button expand="block" (click)="goBack()">Volver</ion-button>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

</ion-content>

<!-- <app-footer></app-footer> -->
